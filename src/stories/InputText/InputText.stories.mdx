import { Canvas, Meta, Story, Source, ArgsTable } from '@storybook/addon-docs'
import { action } from '@storybook/addon-actions'

import VvInputText from '@/components/VvInputText/VvInputText.vue'

<Meta title="Components/InputText" component={VvInputText} />

export const Template = (args, { argTypes }) => ({
	props: Object.keys(argTypes),
	components: { VvInputText },
	setup() {
		return { args }
	},
	data: () => ({ value: args.modelValue || '' }),
	template: `
		<div class="flex flex-col justify-between">
			<vv-input-text v-bind="args" v-model="value"/>
			<strong v-if="value">Value: {{value}} </strong> 
		</div>
        `
})

<Canvas>
	<Story
		name="vv-input-text"
		args={{
			text: 'text',
			id: 'vv-input-text',
			name: 'vv-input-text',
			placeholder: 'Placeholder',
			label: 'Label',
			hintLabel: 'Hint label',
			autocomplete: 'off',
			disabled: false,
			readonly: false,
			valid: false,
			error: false,
			loading: false,
			loadingLabel: 'Loading...',
			icon: '',
			iconPosition: null,
			floating: false,
			min: null,
			max: null,
			minlength: null,
			maxlength: null
		}}
		argTypes={{
			id: {
				description: 'Input id',
				table: { category: 'Attributes' }
			},
			name: {
				description: 'Input name',
				table: { category: 'Attributes' }
			},
			placeholder: {
				description: 'Input placeholder',
				table: { category: 'Attributes' }
			},
			iconPosition: {
				options: [null, 'left', 'right'],
				control: {
					type: 'select'
				},
				table: { category: 'Attributes' }
			},
			type: {
				options: ['text', 'password', 'date', 'datetime-local'],
				control: {
					type: 'select'
				},
				table: { category: 'Attributes' }
			},
			minlength: {
				description: 'Min length',
				table: { category: 'Attributes' }
			},
			maxlength: {
				description: 'Max length',
				table: { category: 'Attributes' }
			},
			min: {
				description: 'Min value',
				table: { category: 'Attributes' }
			},
			max: {
				description: 'Max value',
				table: { category: 'Attributes' }
			}
		}}>
		{Template.bind({})}
	</Story>
</Canvas>
