import { Canvas, Meta, Story, Source } from '@storybook/addon-docs'
import { action } from '@storybook/addon-actions'

import VvCheck from '../../components/VvCheck/VvCheck.vue'
import { checkTest, booleanTest, binaryTest } from './CheckPropertyTest.js'
import { Template } from './Check.stories.mdx'

<Meta
	title="Components/Check/Binary"
	args={{
		modelValue: []
	}}
	component={VvCheck}
/>

# Binary True/false (sperimentale)

<Canvas>
	<Story
		name="True/false"
		play={(ctx) =>
			checkTest({
				...ctx,
				functions: [booleanTest]
			})
		}
		args={{
			id: 4,
			label: 'Voglio acquistare questa enciclopedia!',
			name: 'ck4',
			binary: true,
			modelValue: false
		}}>
		{Template.bind({})}
	</Story>
</Canvas>

# Binary "Si"/"No" (sperimentale)

<Canvas>
	<Story
		name="Binario Si/No (sperimentale)"
		play={(ctx) =>
			checkTest({
				...ctx,
				functions: [binaryTest]
			})
		}
		args={{
			id: 5,
			label: 'Voglio acquistare questa enciclopedia!',
			name: 'ck5',
			binary: true,
			trueValue: 'Si',
			falseValue: 'No',
			'data-testid': 'checkbox'
		}}>
		{(args) => {
			return {
				components: { VvCheck },
				setup() {
					return { args }
				},
				data() {
					return {
						checkValue: 'No'
					}
				},
				watch: {
					checkValue: {
						immediate: true,
						handler(newValue) {}
					}
				},
				template: `<div :data-testData="checkValue" :key="checkValue">
						<vv-check v-model:modelValue="checkValue" v-bind="args"  />
						<strong id="value" v-if="checkValue">Valore selez: {{checkValue}} </strong>
					</div>`
			}
		}}
	</Story>
</Canvas>
