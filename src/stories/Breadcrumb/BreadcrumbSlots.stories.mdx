import { Canvas, Meta, Story } from '@storybook/addon-docs'
import VvBreadcrumb from '@/components/VvBreadcrumb/VvBreadcrumb.vue'
import VvIcon from '@/components/VvIcon/VvIcon.vue'
import { defaultTest } from './Breadcrumb.test'
import { defaultArgs, argTypes } from './Breadcrumb.settings'

<Meta
	title="Components/Breadcrumb/Slots"
	component={VvBreadcrumb}
	args={defaultArgs}
	argTypes={argTypes}
/>

<Canvas>
	<Story
		name="Label"
		play={(args) => defaultTest(args, true)}
		argTypes={{
			label: {
				table: {
					disable: true,
				},
			},
		}}
	>
		{(args) => {
			return {
				setup() {
					return { args }
				},
				components: { VvBreadcrumb, VvIcon },
				template: /*html*/`
                <VvBreadcrumb v-bind="args">
                    <template #label="{route, index}">
                        <VvIcon v-if="index === 0" name="home" :aria-label="route.label"  />
                        <template v-else>{{ route.label }}</template>
                    </template>
                </VvBreadcrumb>
            `,
			}
		}}
	</Story>
</Canvas>
