import { Canvas, Meta, Story } from '@storybook/addon-docs'
import VvButton from '@/components/VvButton/VvButton.vue'
import { defaultTest } from './Button.test'
import { argTypes, defaultArgs } from './Button.settings'

<Meta
	title="Components/Button"
	component={VvButton}
	args={defaultArgs}
	argTypes={argTypes}
/>

export const Template = (args) => ({
	components: { VvButton },
	data() {
		return { value: undefined }
	},
	setup() {
		return { args }
	},
	template: /*html*/`<vv-button v-bind="args" v-model="value" name="my-button">
					<template #before v-if="args.before"><div v-html="args.before"></div></template>
					<template #default v-if="args.default"><div v-html="args.default"></div></template>
					<template #after v-if="args.after"><div v-html="args.after"></div></template>
			   </vv-button>
			   <div v-if="args.toggle" class="mt-md">Value: {{ value }}</div>`,
})

<Canvas>
	<Story name="Default" play={defaultTest}>
		{Template.bind()}
	</Story>
</Canvas>
