import { Canvas, Meta, Story } from '@storybook/addon-docs'
import VvAccordion from '@/components/VvAccordion/VvAccordion.vue'
import { defaultTest } from './Accordion.test'
import { defaultArgs, argTypes } from './Accordion.settings'

<Meta
	title="Components/Accordion"
	component={VvAccordion}
	args={defaultArgs}
	argTypes={argTypes}
/>

export const Template = (args, { argTypes }) => ({
	props: Object.keys(argTypes),
	components: { VvAccordion },
	data() {
		return {
			open: false,
		}
	},
	setup() {
		return { args }
	},
	template: `<vv-accordion data-testId="element" v-bind="args" v-model="open">
					<template #summary v-if="args.summary"><div v-html="args.summary"></div></template>
					<template #details v-if="args.details"><div v-html="args.details"></div></template>
			   </vv-accordion>
			   <div class="mt-24">
					Open: <span data-testId="value">{{ open }}</span>
			   </div>`,
})

<Canvas>
	<Story name="Default" play={defaultTest}>
		{Template.bind()}
	</Story>
</Canvas>
