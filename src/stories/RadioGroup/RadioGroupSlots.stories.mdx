import { Canvas, Meta, Story, Source } from '@storybook/addon-docs'
import VvRadioGroup from '@/components/VvRadioGroup/VvRadioGroup.vue'
import VvRadio from '@/components/VvRadio/VvRadio.vue'
import { slotsTest } from './RadioGroup.test'

<Meta title="Components/RadioGroup/Slots" component={VvRadioGroup} />

# Default

<Canvas>
	<Story
		name="Default"
		args={{
			name: 'story-slot-default'
		}}>
		{(args) => {
			return {
				components: { VvRadioGroup, VvRadio },
				data: () => ({ selected: args.modelValue || null }),
				setup() {
					return { args }
				},
				template: `
					<vv-radio-group v-bind="args" v-model="selected" data-testId="radiogroup">
						<vv-radio id="o1" name="opts" value="1">Option 1</vv-radio>
						<vv-radio id="o2" name="opts" value="2">Option 2</vv-radio>
						<vv-radio id="o3" name="opts" value="3">Option 3</vv-radio>
					</vv-radio-group>
					<strong v-if="selected">Selected options: {{selected}} </strong> 
                    `
			}
		}}
	</Story>
</Canvas>

# Hint

<Canvas>
	<Story
		name="Hint"
		play={slotsTest}
		args={{
			name: 'story-slot-hint',
			role: 'radiogroup'
		}}>
		{(args) => {
			return {
				components: { VvRadioGroup, VvRadio },
				data: () => ({ selected: args.modelValue || null }),
				setup() {
					return { args }
				},
				template: `
					<vv-radio-group v-model="selected" v-bind="args" data-testId="radiogroup">
						<vv-radio id="o1" name="opts" value="1">Option 1</vv-radio>
						<vv-radio id="o2" name="opts" value="2">Option 2</vv-radio>
						<vv-radio id="o3" name="opts" value="3">Option 3</vv-radio>
						<template #hint="slotProps">
							<div>Hint label</div>
							<div>{{slotProps}}</div> 
						</template>
					</vv-radio-group>
					<strong v-if="selected">Selected options: {{selected}} </strong>
                    `
			}
		}}
	</Story>
</Canvas>

# Valid

<Canvas>
	<Story
		name="Valid"
		play={async ({ canvasElement }) => {
			slotsTest({ canvasElement }, { className: 'valid' })
		}}
		args={{
			name: 'story-slot-valid',
			valid: true,
			role: 'radiogroup'
		}}>
		{(args) => {
			return {
				components: { VvRadioGroup, VvRadio },
				data: () => ({ selected: args.modelValue || null }),
				setup() {
					return { args }
				},
				template: `
					<vv-radio-group v-model="selected" v-bind="args" data-testId="radiogroup">
						<vv-radio id="o1" name="opts" value="1">Option 1</vv-radio>
						<vv-radio id="o2" name="opts" value="2">Option 2</vv-radio>
						<vv-radio id="o3" name="opts" value="3">Option 3</vv-radio>
						<template #valid>
							Valid message
						</template>
					</vv-radio-group>
					<strong v-if="selected">Selected options: {{selected}} </strong>
                    `
			}
		}}
	</Story>
</Canvas>

# Error

<Canvas>
	<Story
		name="Error"
		play={async ({ canvasElement }) => {
			slotsTest({ canvasElement }, { className: 'invalid' })
		}}
		args={{
			name: 'story-slot-error',
			error: true,
			role: 'radiogroup'
		}}>
		{(args) => {
			return {
				components: { VvRadioGroup, VvRadio },
				data: () => ({ selected: args.modelValue || null }),
				setup() {
					return { args }
				},
				template: `
                        <vv-radio-group v-model="selected" v-bind="args" data-testId="radiogroup">
							<vv-radio id="o1" name="opts" value="1">Option 1</vv-radio>
							<vv-radio id="o2" name="opts" value="2">Option 2</vv-radio>
							<vv-radio id="o3" name="opts" value="3">Option 3</vv-radio>
                            <template #error>
                               Error message
                            </template>
                        </vv-radio-group>
                        <strong v-if="selected">Selected options: {{selected}} </strong>
                    `
			}
		}}
	</Story>
</Canvas>
